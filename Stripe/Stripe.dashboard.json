{
  "version": 7,
  "dashboardId": "7402274837235761152",
  "title": "Stripe",
  "description": "",
  "role": "",
  "owner": "",
  "created": "2025-12-04T09:17:28.809Z",
  "tabs": [
    {
      "tabId": "default",
      "name": "Payment Success/Failure Overview",
      "panels": [
        {
          "id": "Panel_ID8784010",
          "type": "metric",
          "title": "Total Payments",
          "description": "",
          "config": {
            "show_legends": true,
            "legends_position": null,
            "decimals": 0,
            "line_thickness": 1.5,
            "step_value": "0",
            "top_results_others": false,
            "axis_border_show": false,
            "label_option": {
              "rotate": 0
            },
            "show_symbol": false,
            "line_interpolation": "smooth",
            "legend_width": {
              "unit": "px"
            },
            "legend_height": {
              "unit": "px"
            },
            "base_map": {
              "type": "osm"
            },
            "map_type": {
              "type": "world"
            },
            "map_view": {
              "zoom": 1,
              "lat": 0,
              "lng": 0
            },
            "map_symbol_style": {
              "size": "by Value",
              "size_by_value": {
                "min": 1,
                "max": 100
              },
              "size_fixed": 2
            },
            "drilldown": [],
            "mark_line": [],
            "override_config": [],
            "connect_nulls": false,
            "no_value_replacement": "",
            "wrap_table_cells": false,
            "table_transpose": false,
            "table_dynamic_columns": false,
            "mappings": [],
            "color": {
              "mode": "palette-classic-by-series",
              "fixedColor": [
                "#53ca53"
              ],
              "seriesBy": "last",
              "colorBySeries": []
            },
            "trellis": {
              "layout": null,
              "num_of_columns": 1,
              "group_by_y_axis": false
            },
            "show_gridlines": true
          },
          "queryType": "sql",
          "queries": [
            {
              "query": "SELECT \n  COUNT(*) AS total_payments\nFROM stripe_events\nWHERE type IN ('payment_intent.succeeded', 'payment_intent.payment_failed')",
              "vrlFunctionQuery": "",
              "customQuery": true,
              "fields": {
                "stream": "stripe_events",
                "stream_type": "logs",
                "x": [],
                "y": [
                  {
                    "label": "total_payments",
                    "alias": "total_payments",
                    "column": "total_payments",
                    "color": "#5960b2",
                    "aggregationFunction": "count",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": true
                  }
                ],
                "z": [],
                "breakdown": [],
                "filter": {
                  "filterType": "group",
                  "logicalOperator": "AND",
                  "conditions": []
                }
              },
              "config": {
                "promql_legend": "",
                "layer_type": "scatter",
                "weight_fixed": 1,
                "limit": 0,
                "min": 0,
                "max": 100,
                "time_shift": []
              }
            }
          ],
          "layout": {
            "x": 0,
            "y": 0,
            "w": 46,
            "h": 11,
            "i": 1
          },
          "htmlContent": "",
          "markdownContent": "",
          "customChartContent": " // To know more about ECharts , \n// visit: https://echarts.apache.org/examples/en/index.html \n// Example: https://echarts.apache.org/examples/en/editor.html?c=line-simple \n// Define your ECharts 'option' here. \n// 'data' variable is available for use and contains the response data from the search result and it is an array.\noption = {  \n \n};\n  "
        },
        {
          "id": "Panel_ID8366510",
          "type": "pie",
          "title": "Success vs Failed Payments",
          "description": "",
          "config": {
            "show_legends": true,
            "legends_position": null,
            "decimals": 2,
            "line_thickness": 1.5,
            "step_value": "0",
            "top_results_others": false,
            "axis_border_show": false,
            "label_option": {
              "rotate": 0
            },
            "show_symbol": false,
            "line_interpolation": "smooth",
            "legend_width": {
              "unit": "px"
            },
            "legend_height": {
              "unit": "px"
            },
            "base_map": {
              "type": "osm"
            },
            "map_type": {
              "type": "world"
            },
            "map_view": {
              "zoom": 1,
              "lat": 0,
              "lng": 0
            },
            "map_symbol_style": {
              "size": "by Value",
              "size_by_value": {
                "min": 1,
                "max": 100
              },
              "size_fixed": 2
            },
            "drilldown": [],
            "mark_line": [],
            "override_config": [],
            "connect_nulls": false,
            "no_value_replacement": "",
            "wrap_table_cells": false,
            "table_transpose": false,
            "table_dynamic_columns": false,
            "mappings": [],
            "color": {
              "mode": "palette-classic-by-series",
              "fixedColor": [
                "#53ca53"
              ],
              "seriesBy": "last",
              "colorBySeries": []
            },
            "trellis": {
              "layout": null,
              "num_of_columns": 1,
              "group_by_y_axis": false
            },
            "show_gridlines": true
          },
          "queryType": "sql",
          "queries": [
            {
              "query": "SELECT \n  type,\n  COUNT(*) AS count\nFROM stripe_events\nWHERE type IN ('payment_intent.succeeded', 'payment_intent.payment_failed')\nGROUP BY type\nORDER BY count DESC",
              "vrlFunctionQuery": "",
              "customQuery": true,
              "fields": {
                "stream": "stripe_events",
                "stream_type": "logs",
                "x": [
                  {
                    "label": "type",
                    "alias": "type",
                    "column": "type",
                    "color": null,
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": true
                  }
                ],
                "y": [
                  {
                    "label": "count",
                    "alias": "count",
                    "column": "count",
                    "color": "#5960b2",
                    "aggregationFunction": "count",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": true
                  }
                ],
                "z": [],
                "breakdown": [],
                "filter": {
                  "filterType": "group",
                  "logicalOperator": "AND",
                  "conditions": []
                }
              },
              "config": {
                "promql_legend": "",
                "layer_type": "scatter",
                "weight_fixed": 1,
                "limit": 0,
                "min": 0,
                "max": 100,
                "time_shift": []
              }
            }
          ],
          "layout": {
            "x": 46,
            "y": 0,
            "w": 70,
            "h": 24,
            "i": 2
          },
          "htmlContent": "",
          "markdownContent": "",
          "customChartContent": " // To know more about ECharts , \n// visit: https://echarts.apache.org/examples/en/index.html \n// Example: https://echarts.apache.org/examples/en/editor.html?c=line-simple \n// Define your ECharts 'option' here. \n// 'data' variable is available for use and contains the response data from the search result and it is an array.\noption = {  \n \n};\n  "
        },
        {
          "id": "Panel_ID9229210",
          "type": "metric",
          "title": "Payment Success Rate %",
          "description": "",
          "config": {
            "show_legends": true,
            "legends_position": null,
            "unit": "percent",
            "decimals": 2,
            "line_thickness": 1.5,
            "step_value": "0",
            "top_results_others": false,
            "axis_border_show": false,
            "label_option": {
              "rotate": 0
            },
            "show_symbol": false,
            "line_interpolation": "smooth",
            "legend_width": {
              "unit": "px"
            },
            "legend_height": {
              "unit": "px"
            },
            "base_map": {
              "type": "osm"
            },
            "map_type": {
              "type": "world"
            },
            "map_view": {
              "zoom": 1,
              "lat": 0,
              "lng": 0
            },
            "map_symbol_style": {
              "size": "by Value",
              "size_by_value": {
                "min": 1,
                "max": 100
              },
              "size_fixed": 2
            },
            "drilldown": [],
            "mark_line": [],
            "override_config": [],
            "connect_nulls": false,
            "no_value_replacement": "",
            "wrap_table_cells": false,
            "table_transpose": false,
            "table_dynamic_columns": false,
            "mappings": [],
            "color": {
              "mode": "palette-classic-by-series",
              "fixedColor": [
                "#53ca53"
              ],
              "seriesBy": "last",
              "colorBySeries": []
            },
            "trellis": {
              "layout": null,
              "num_of_columns": 1,
              "group_by_y_axis": false
            },
            "show_gridlines": true
          },
          "queryType": "sql",
          "queries": [
            {
              "query": "WITH t AS (\n  SELECT\n    SUM(CASE WHEN type = 'payment_intent.succeeded' THEN 1 ELSE 0 END) AS success,\n    SUM(CASE WHEN type = 'payment_intent.payment_failed' THEN 1 ELSE 0 END) AS failed\n  FROM stripe_events\n)\nSELECT \n  100.0 * success / NULLIF(success + failed, 0) AS success_rate_percent\nFROM t",
              "vrlFunctionQuery": "",
              "customQuery": true,
              "fields": {
                "stream": "stripe_events",
                "stream_type": "logs",
                "x": [],
                "y": [
                  {
                    "label": "success_rate_percent",
                    "alias": "success_rate_percent",
                    "column": "success_rate_percent",
                    "color": "#5960b2",
                    "aggregationFunction": "count",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": true
                  }
                ],
                "z": [],
                "breakdown": [],
                "filter": {
                  "filterType": "group",
                  "logicalOperator": "AND",
                  "conditions": []
                }
              },
              "config": {
                "promql_legend": "",
                "layer_type": "scatter",
                "weight_fixed": 1,
                "limit": 0,
                "min": 0,
                "max": 100,
                "time_shift": []
              }
            }
          ],
          "layout": {
            "x": 0,
            "y": 11,
            "w": 46,
            "h": 13,
            "i": 3
          },
          "htmlContent": "",
          "markdownContent": "",
          "customChartContent": " // To know more about ECharts , \n// visit: https://echarts.apache.org/examples/en/index.html \n// Example: https://echarts.apache.org/examples/en/editor.html?c=line-simple \n// Define your ECharts 'option' here. \n// 'data' variable is available for use and contains the response data from the search result and it is an array.\noption = {  \n \n};\n  "
        },
        {
          "id": "Panel_ID2242010",
          "type": "bar",
          "title": "Payments Over Time",
          "description": "",
          "config": {
            "show_legends": true,
            "legends_position": null,
            "decimals": 0,
            "line_thickness": 1.5,
            "step_value": "0",
            "top_results_others": false,
            "axis_border_show": false,
            "label_option": {
              "rotate": 0
            },
            "show_symbol": false,
            "line_interpolation": "smooth",
            "legend_width": {
              "unit": "px"
            },
            "legend_height": {
              "unit": "px"
            },
            "base_map": {
              "type": "osm"
            },
            "map_type": {
              "type": "world"
            },
            "map_view": {
              "zoom": 1,
              "lat": 0,
              "lng": 0
            },
            "map_symbol_style": {
              "size": "by Value",
              "size_by_value": {
                "min": 1,
                "max": 100
              },
              "size_fixed": 2
            },
            "drilldown": [],
            "mark_line": [],
            "override_config": [],
            "connect_nulls": true,
            "no_value_replacement": "",
            "wrap_table_cells": false,
            "table_transpose": false,
            "table_dynamic_columns": false,
            "mappings": [],
            "color": {
              "mode": "palette-classic-by-series",
              "fixedColor": [
                "#53ca53"
              ],
              "seriesBy": "last",
              "colorBySeries": []
            },
            "trellis": {
              "layout": null,
              "num_of_columns": 1,
              "group_by_y_axis": false
            },
            "show_gridlines": true
          },
          "queryType": "sql",
          "queries": [
            {
              "query": "SELECT histogram(_timestamp) as \"x_axis_1\", count(_timestamp) as \"y_axis_1\"  FROM \"stripe_events\"  WHERE type LIKE 'payment_intent.%' GROUP BY x_axis_1 ORDER BY x_axis_1 ASC",
              "vrlFunctionQuery": "",
              "customQuery": true,
              "fields": {
                "stream": "stripe_events",
                "stream_type": "logs",
                "x": [
                  {
                    "label": "Timestamp",
                    "alias": "x_axis_1",
                    "column": "x_axis_1",
                    "color": null,
                    "aggregationFunction": "histogram",
                    "sortBy": "ASC",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": false
                  }
                ],
                "y": [
                  {
                    "label": "Count of Events",
                    "alias": "y_axis_1",
                    "column": "y_axis_1",
                    "color": null,
                    "aggregationFunction": "count",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": false
                  }
                ],
                "z": [],
                "breakdown": [],
                "filter": {
                  "filterType": "group",
                  "logicalOperator": "AND",
                  "conditions": []
                }
              },
              "config": {
                "promql_legend": "",
                "layer_type": "scatter",
                "weight_fixed": 1,
                "limit": 0,
                "min": 0,
                "max": 100,
                "time_shift": []
              }
            }
          ],
          "layout": {
            "x": 0,
            "y": 24,
            "w": 188,
            "h": 25,
            "i": 4
          },
          "htmlContent": "",
          "markdownContent": "",
          "customChartContent": " // To know more about ECharts , \n// visit: https://echarts.apache.org/examples/en/index.html \n// Example: https://echarts.apache.org/examples/en/editor.html?c=line-simple \n// Define your ECharts 'option' here. \n// 'data' variable is available for use and contains the response data from the search result and it is an array.\noption = {  \n \n};\n  "
        },
        {
          "id": "Panel_ID7786910",
          "type": "pie",
          "title": "Active vs Canceled Subscriptions",
          "description": "",
          "config": {
            "show_legends": true,
            "legends_position": null,
            "decimals": 2,
            "line_thickness": 1.5,
            "step_value": "0",
            "top_results_others": false,
            "axis_border_show": false,
            "label_option": {
              "rotate": 0
            },
            "show_symbol": false,
            "line_interpolation": "smooth",
            "legend_width": {
              "unit": "px"
            },
            "legend_height": {
              "unit": "px"
            },
            "base_map": {
              "type": "osm"
            },
            "map_type": {
              "type": "world"
            },
            "map_view": {
              "zoom": 1,
              "lat": 0,
              "lng": 0
            },
            "map_symbol_style": {
              "size": "by Value",
              "size_by_value": {
                "min": 1,
                "max": 100
              },
              "size_fixed": 2
            },
            "drilldown": [],
            "mark_line": [],
            "override_config": [],
            "connect_nulls": false,
            "no_value_replacement": "",
            "wrap_table_cells": false,
            "table_transpose": false,
            "table_dynamic_columns": false,
            "mappings": [],
            "color": {
              "mode": "palette-classic",
              "fixedColor": [],
              "seriesBy": "last",
              "colorBySeries": []
            },
            "trellis": {
              "layout": null,
              "num_of_columns": 1,
              "group_by_y_axis": false
            },
            "show_gridlines": true
          },
          "queryType": "sql",
          "queries": [
            {
              "query": "SELECT\n  type,\n  COUNT(*) AS count\nFROM stripe_events\nWHERE type IN ('customer.subscription.created', 'customer.subscription.deleted')\nGROUP BY type",
              "vrlFunctionQuery": "",
              "customQuery": true,
              "fields": {
                "stream": "stripe_events",
                "stream_type": "logs",
                "x": [
                  {
                    "label": "type",
                    "alias": "type",
                    "column": "type",
                    "color": null,
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": true
                  }
                ],
                "y": [
                  {
                    "label": "count",
                    "alias": "count",
                    "column": "count",
                    "color": "#5960b2",
                    "aggregationFunction": "count",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": true
                  }
                ],
                "z": [],
                "breakdown": [],
                "filter": {
                  "filterType": "group",
                  "logicalOperator": "AND",
                  "conditions": []
                }
              },
              "config": {
                "promql_legend": "",
                "layer_type": "scatter",
                "weight_fixed": 1,
                "limit": 0,
                "min": 0,
                "max": 100,
                "time_shift": []
              }
            }
          ],
          "layout": {
            "x": 116,
            "y": 0,
            "w": 75,
            "h": 24,
            "i": 5
          },
          "htmlContent": "",
          "markdownContent": "",
          "customChartContent": " // To know more about ECharts , \n// visit: https://echarts.apache.org/examples/en/index.html \n// Example: https://echarts.apache.org/examples/en/editor.html?c=line-simple \n// Define your ECharts 'option' here. \n// 'data' variable is available for use and contains the response data from the search result and it is an array.\noption = {  \n \n};\n  "
        }
      ]
    },
    {
      "tabId": "41234",
      "name": "Revenue",
      "panels": [
        {
          "id": "Panel_ID6685310",
          "type": "metric",
          "title": "Total Revenue",
          "description": "",
          "config": {
            "show_legends": true,
            "legends_position": null,
            "unit": "currency-dollar",
            "decimals": 2,
            "line_thickness": 1.5,
            "step_value": "0",
            "top_results_others": false,
            "axis_border_show": false,
            "label_option": {
              "rotate": 0
            },
            "show_symbol": false,
            "line_interpolation": "smooth",
            "legend_width": {
              "unit": "px"
            },
            "legend_height": {
              "unit": "px"
            },
            "base_map": {
              "type": "osm"
            },
            "map_type": {
              "type": "world"
            },
            "map_view": {
              "zoom": 1,
              "lat": 0,
              "lng": 0
            },
            "map_symbol_style": {
              "size": "by Value",
              "size_by_value": {
                "min": 1,
                "max": 100
              },
              "size_fixed": 2
            },
            "drilldown": [],
            "mark_line": [],
            "override_config": [],
            "connect_nulls": false,
            "no_value_replacement": "",
            "wrap_table_cells": false,
            "table_transpose": false,
            "table_dynamic_columns": false,
            "mappings": [],
            "color": {
              "mode": "palette-classic-by-series",
              "fixedColor": [
                "#53ca53"
              ],
              "seriesBy": "last",
              "colorBySeries": []
            },
            "trellis": {
              "layout": null,
              "num_of_columns": 1,
              "group_by_y_axis": false
            },
            "show_gridlines": true
          },
          "queryType": "sql",
          "queries": [
            {
              "query": "SELECT \n  SUM(data_object_amount_received) AS total_revenue_usd\nFROM stripe_events\nWHERE type = 'payment_intent.succeeded'",
              "vrlFunctionQuery": "",
              "customQuery": true,
              "fields": {
                "stream": "stripe_events",
                "stream_type": "logs",
                "x": [],
                "y": [
                  {
                    "label": "total_revenue_usd",
                    "alias": "total_revenue_usd",
                    "column": "total_revenue_usd",
                    "color": "#5960b2",
                    "aggregationFunction": "count",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": true
                  }
                ],
                "z": [],
                "breakdown": [],
                "filter": {
                  "filterType": "group",
                  "logicalOperator": "AND",
                  "conditions": []
                }
              },
              "config": {
                "promql_legend": "",
                "layer_type": "scatter",
                "weight_fixed": 1,
                "limit": 0,
                "min": 0,
                "max": 100,
                "time_shift": []
              }
            }
          ],
          "layout": {
            "x": 0,
            "y": 0,
            "w": 70,
            "h": 13,
            "i": 1
          },
          "htmlContent": "",
          "markdownContent": "",
          "customChartContent": " // To know more about ECharts , \n// visit: https://echarts.apache.org/examples/en/index.html \n// Example: https://echarts.apache.org/examples/en/editor.html?c=line-simple \n// Define your ECharts 'option' here. \n// 'data' variable is available for use and contains the response data from the search result and it is an array.\noption = {  \n \n};\n  "
        },
        {
          "id": "Panel_ID4894610",
          "type": "bar",
          "title": "Revenue Over Time",
          "description": "",
          "config": {
            "show_legends": true,
            "legends_position": null,
            "decimals": 2,
            "line_thickness": 1.5,
            "step_value": "0",
            "top_results_others": false,
            "axis_border_show": false,
            "label_option": {
              "rotate": 0
            },
            "show_symbol": false,
            "line_interpolation": "smooth",
            "legend_width": {
              "unit": "px"
            },
            "legend_height": {
              "unit": "px"
            },
            "base_map": {
              "type": "osm"
            },
            "map_type": {
              "type": "world"
            },
            "map_view": {
              "zoom": 1,
              "lat": 0,
              "lng": 0
            },
            "map_symbol_style": {
              "size": "by Value",
              "size_by_value": {
                "min": 1,
                "max": 100
              },
              "size_fixed": 2
            },
            "drilldown": [],
            "mark_line": [],
            "override_config": [],
            "connect_nulls": false,
            "no_value_replacement": "",
            "wrap_table_cells": false,
            "table_transpose": false,
            "table_dynamic_columns": false,
            "mappings": [],
            "color": {
              "mode": "palette-classic-by-series",
              "fixedColor": [
                "#53ca53"
              ],
              "seriesBy": "last",
              "colorBySeries": []
            },
            "trellis": {
              "layout": null,
              "num_of_columns": 1,
              "group_by_y_axis": false
            },
            "show_gridlines": true
          },
          "queryType": "sql",
          "queries": [
            {
              "query": "SELECT histogram(_timestamp) as \"x_axis_1\", sum(data_object_amount_received) as \"y_axis_1\"  FROM \"stripe_events\"  WHERE type = 'payment_intent.succeeded' GROUP BY x_axis_1 ORDER BY x_axis_1 ASC",
              "vrlFunctionQuery": "",
              "customQuery": true,
              "fields": {
                "stream": "stripe_events",
                "stream_type": "logs",
                "x": [
                  {
                    "label": "Timestamp",
                    "alias": "x_axis_1",
                    "column": "_timestamp",
                    "color": null,
                    "aggregationFunction": "histogram",
                    "sortBy": "ASC",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": false
                  }
                ],
                "y": [
                  {
                    "label": "Amount Received",
                    "alias": "y_axis_1",
                    "column": "data_object_amount_received",
                    "color": "#5960b2",
                    "aggregationFunction": "sum",
                    "isDerived": false,
                    "havingConditions": [],
                    "treatAsNonTimestamp": true
                  }
                ],
                "z": [],
                "breakdown": [],
                "filter": {
                  "filterType": "group",
                  "logicalOperator": "AND",
                  "conditions": []
                }
              },
              "config": {
                "promql_legend": "",
                "layer_type": "scatter",
                "weight_fixed": 1,
                "limit": 0,
                "min": 0,
                "max": 100,
                "time_shift": []
              }
            }
          ],
          "layout": {
            "x": 70,
            "y": 0,
            "w": 122,
            "h": 26,
            "i": 2
          },
          "htmlContent": "",
          "markdownContent": "",
          "customChartContent": " // To know more about ECharts , \n// visit: https://echarts.apache.org/examples/en/index.html \n// Example: https://echarts.apache.org/examples/en/editor.html?c=line-simple \n// Define your ECharts 'option' here. \n// 'data' variable is available for use and contains the response data from the search result and it is an array.\noption = {  \n \n};\n  "
        }
      ]
    }
  ],
  "variables": {
    "list": [],
    "showDynamicFilters": true
  },
  "defaultDatetimeDuration": {
    "type": "relative",
    "relativeTimePeriod": "15m"
  }
}